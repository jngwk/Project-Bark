package dao;

import javax.servlet.ServletContext;

import utils.JDBConnect;

public class UserDAO extends JDBConnect{

	public UserDAO(ServletContext application) {
		super(application);
	}
	
	public int login(String id, String pwd) {
		String sql = "SELECT pwd FROM user WHERE id = ?";
		try {
			pstmt = conn.prepareStatement(sql);
			pstmt.setString(1, id);
			rs = pstmt.executeQuery();
			rs.next();
			if(rs.getString("pwd").equals(pwd)) {
				// 로그인 정보가 일치함
				return 1;
			}
			else {
				// 로그인 정보가 일치하지 않음
				return 0;
			}
		}catch (Exception e) {
			System.out.println("로그인 에러: " + e.getMessage());
			// 데이터베이스 오류
			
		}
		// 데이터베이스 오류
		return -1;
	}

	
	
}
